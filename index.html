<!-- Template 4: Bold & Vibrant Cards -->
<!-- Save as index.html in a folder like freedge-template4 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Freedge Iceland</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Open+Sans&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #000000;
      --secondary: #4caf50;
      --accent: #ffeb3b;
      --bg: #ffffff;
    }
    body {
      margin: 0;
      font-family: 'Open Sans', sans-serif;
      background: var(--bg);
      color: #333;
      scroll-behavior: smooth;
    }
    nav {
      background: var(--primary);
      padding: 12px;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 100;
      display: flex;
      justify-content: center;
      gap: 30px;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
    }
    header {
      padding: 120px 20px 60px;
      text-align: center;
      background: var(--accent);
    }
    header h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: 3em;
      color: var(--primary);
    }
    header p {
      font-size: 1.3em;
    }
    button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 24px;
      font-weight: bold;
      border-radius: 6px;
      margin-top: 10px;
      cursor: pointer;
    }
    section {
      padding: 20px 20px;
      max-width: 1000px;
      margin: auto;
    }
    h2 {
      font-family: 'Montserrat', sans-serif;
      color: var(--secondary);
      font-size: 2em;
    }
    .card-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
      margin-top: 20px;
    }

    @media (max-width: 768px) {
      .card-grid {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      margin: 10px 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    iframe {
      width: 100%;
      height: 300px;
      border: none;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .card h3 {
      margin-top: 0;
      color: var(--primary);
    }
    iframe.clicked {
      pointer-events: auto;
    }
    .scroll-gallery {
    display: flex;
    overflow-x: auto;
    scroll-behavior: smooth;
    gap: 20px;
    padding: 20px 0;
    position: relative;
    }

    .gallery-item {
    width: 300px;
    flex-shrink: 0;
    background: #f5f5f5;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .gallery-item img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    }

    .gallery-item .info {
    padding: 10px;
    }

    .gallery-item h4 {
    margin: 0 0 10px;
    color: var(--primary);
    }

    .gallery-item p {
    margin: 0;
    font-size: 0.9em;
    }

    #locations .map-container {
    width: 100%;
    max-width: none;
    margin: 0;
    padding: 0;
    }

    #locations iframe {
    display: block;
    width: 100%;
    height: 600px;
    border: none;
    }

    footer {
      background: var(--secondary);
      color: white;
      text-align: center;
      padding: 40px 20px;
    }
    .rules-list {
      list-style: decimal;
      padding-left: 20px;
    }
    .timeline {
      border-left: 4px solid var(--secondary);
      padding-left: 20px;
    }
    .timeline-item {
      margin-bottom: 20px;
    }
    .timeline-item h4 {
      margin: 0;
      color: var(--primary);
    }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var iframe = document.querySelector("iframe");
      iframe.addEventListener("click", function() {
        this.classList.add("clicked");
      });
      document.addEventListener("click", function(e) {
        if (!iframe.contains(e.target)) {
          iframe.classList.remove("clicked");
        }
      });
    });
  </script>
    <script>
    fetch('freedges.json')
        .then(res => res.json())
        .then(data => {
        const gallery = document.getElementById('freedgeGallery');

        function createItem(item, index) {
            const imageUrl = item.image_location || `https://via.placeholder.com/300x180?text=Freedge+${index + 1}`;
            const title = item.title || 'Untitled Freedge';
            const link = item.map || '#';
            const description = item.details || '';

            const div = document.createElement('div');
            div.className = 'gallery-item';
            div.innerHTML = `
            <img src="${imageUrl}" alt="${title}">
            <div class="info">
                <h4><a href="${link}" target="_blank">${title}</a></h4>
                <p>${description}</p>
            </div>
            `;
            return div;
        }

        // Add each item twice for looping effect
        data.forEach((item, i) => gallery.appendChild(createItem(item, i)));

        let scrollSpeed = 10;
        let isPaused = false;
        let pauseTimer;

        function autoScroll() {
            if (!isPaused) {
            gallery.scrollLeft += scrollSpeed;
            if (gallery.scrollLeft >= gallery.scrollWidth / 2) {
                gallery.scrollLeft = 0;
            }
            }
            requestAnimationFrame(autoScroll);
        }

        // Pause when user scrolls manually
        gallery.addEventListener('wheel', () => {
            isPaused = true;
            clearTimeout(pauseTimer);
            pauseTimer = setTimeout(() => {
            isPaused = false;
            }, 3000); // resume auto-scroll after 3s of no user scrolling
        });

        // Optional: pause on hover
        gallery.addEventListener('mouseenter', () => isPaused = true);
        gallery.addEventListener('mouseleave', () => isPaused = false);

        autoScroll();
        });
    </script>
</head>
<body>
  <nav>
    <a href="#about">About</a>
    <a href="#how">How It Works</a>
    <a href="#rules">Guidelines</a>
    <a href="#locations">Where</a>
    <a href="#news">News</a>
    <a href="#involved">Get Involved</a>
  </nav>

  <header>
    <h1>Freedge in Iceland</h1>
    <p>Freedge is a sharing mechanism aiming to reduce food insecurity and food waste, building a stronger community. We promote equal access to healthy food through the installation of community fridges (public refrigerators) that are used to share food and ideas at the neighborhood level.</p>
    <button onclick="document.getElementById('involved').scrollIntoView({behavior: 'smooth'})">Join Us</button>
  </header>

  <section id="about">
    <h2>What is a Freedge?</h2>
    <img src="img\food2.jpg" alt="Freedge" style="display: block; margin: 10px auto; width: 50%; height: auto; border-radius: 8px;">
    <div class="card-grid">
      <div class="card">
        <h3>üßä Fridge</h3>
        <p>The Freedge is a public fridge to store free food</p>
      </div>
      <div class="card">
        <h3>ü•¶ Give</h3>
        <p>The Freedge allows to share food and keep it out of landfills.</p>
      </div>
      <div class="card">
        <h3>ü§ù Take</h3>
        <p>Take what you need and think about others</p>
      </div>
      <div class="card">
        <h3>üåç Share</h3>
        <p>Connect with locals and build food resilience.</p>
      </div>
    </div>
  </section>

  <section id="how">
    <h2>How It Works</h2>
    <div class="card-grid">
      <div class="card">
        <h3>1. Give Food</h3>
        <p>Leave food you don‚Äôt need in the nearest Freedge.</p>
      </div>
      <div class="card">
        <h3>2. Take Freely</h3>
        <p>Anyone can take food from the fridge anytime.</p>
      </div>
      <div class="card">
        <h3>3. Share with others</h3>
        <p>Tell your friends and family to share and build the community.</p>
      </div>
    </div>
  </section>

  <section id="rules">
    <h2>Guidelines</h2>
    <div class="card">
      <ul class="rules-list">
        <li>Anyone can use the freedge and everything inside is FREE.</li>
        <li>You take food on your own responsibility ‚Äì use common sense and your senses to judge if edible.</li>
        <li>Leave only food that you would eat yourself - if you don‚Äôt feel it‚Äôs good, please don‚Äôt leave it.</li>
        <li>Leave the freedge cleaner than you found it.</li>
        <li>Don‚Äôt take everything ‚Äì it‚Äôs about sharing and caring.</li>
        <li>Label it - homemade food with date and ingredients (allergens).</li>
        <li>No expired products unless the package says ‚ÄúBest before‚Äù.</li>
        <li>No raw meat, fish, or egg products.</li>
        <li>No open cans and jars.</li>
        <li>No alcohol - so our younger part of the community can enjoy it safely.</li>
        <li>If bringing bread, please put it in a well-sealed bag or in the freezer.</li>
      </ul>
    </div>
  </section>

<section id="locations">
  <h2>Where to Find Them</h2>
  <div class="map-container">
    <iframe
      src="https://www.google.com/maps/d/embed?mid=14FAFZPV2u0i1GSz55JVYhvCd6zzgCEY&hl=en&ehbc=2E312F"
      width="100%"
      height="600"
      style="border: 0;"
      allowfullscreen=""
      loading="lazy">
    </iframe>
  </div>
</section>

<section id="gallery">
  <h2>Freedge Gallery</h2>
  <div class="scroll-gallery" id="freedgeGallery"></div>
</section>

<section id="news">
  <h2>Freedge in the News</h2>
  <div class="card-grid">
    <a class="card" href="https://www.frettabladid.is/lifid/tok-enga-stund-a-skipta-ut-undarlega-lyktandi-friskap/" target="_blank" style="text-decoration: none; color: inherit;">
      <img src="img/news1.png" alt="Freedge in the news" style="width: 50%; height: auto; border-radius: 8px 8px 0 0;">
      <div style="padding: 10px;">
        <h3>Fr√©ttabla√∞i√∞</h3>
        <p>Change of freedge</p>
      </div>
    </a>
    <a class="card" href="https://www.bbl.is/media/1/bbl22.tbl.2021web.pdf" target="_blank" style="text-decoration: none; color: inherit;">
      <img src="img/news2.png" alt="Freedge in the news" style="width: 70%; height: auto; border-radius: 8px 8px 0 0;">
      <div style="padding: 10px;">
        <h3>B√¶ndabla√∞i√∞</h3>
        <p>New Freedge</p>
      </div>
    </a>
    <a class="card" href="https://studentabladid.is/efni/2021/10/22/sharing-is-caring-the-northernmost-freedge-pops-up-in-reykjavk" target="_blank" style="text-decoration: none; color: inherit;">
      <img src="img/news3.png" alt="Freedge in the news" style="width: 70%; height: auto; border-radius: 8px 8px 0 0;">
      <div style="padding: 10px;">
        <h3>Sharing is Caring</h3>
        <p>Northernmost Freedge.</p>
      </div>
    </a>
  </div>
</section>

<section id="involved">
  <h2>Get Involved</h2>
  <div class="card-grid">
    <a class="card" href="mailto:frisskaupur@protonmail.com" style="text-decoration: none; color: inherit;">
      <h3>Become a Host</h3>
      <p>Place a Freedge in your neighborhood.</p>
    </a>
    <a class="card" href="mailto:frisskaupur@protonmail.com" style="text-decoration: none; color: inherit;">
      <h3>Volunteer</h3>
      <p>Help with maintenance and outreach.</p>
    </a>
    <a class="card" href="mailto:frisskaupur@protonmail.com" style="text-decoration: none; color: inherit;">
      <h3>Contact Us</h3>
      <p>Send us an email</p>
    </a>
    <a class="card" href="https://freedge.org/" style="text-decoration: none; color: inherit;">
      <h3>Learn more</h3>
      <p>Check out freedges around the world.</p>
    </a>
  </div>
</section>

  <footer>
    &copy; 2025 Freedge Iceland ‚ú®
  </footer>
</body>
</html>